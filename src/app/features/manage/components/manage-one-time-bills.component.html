<div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-lg font-bold text-slate-800 flex items-center gap-2">
      <lucide-icon [img]="DollarSign" class="w-5 h-5"></lucide-icon>
      One-Time Bills
    </h2>
    <button
      (click)="addBill.emit()"
      class="flex items-center gap-2 bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-50 transition"
      type="button">
      <lucide-icon [img]="Plus" class="w-4 h-4"></lucide-icon>
      Add One-Time Bill
    </button>
  </div>

  <div class="overflow-x-auto">
    <table class="min-w-full text-sm">
      <thead class="text-xs uppercase text-slate-600">
      <tr>
        <th class="px-3 py-2 text-left">
          <button (click)="sort.emit('name')" class="font-bold hover:text-slate-900" type="button">Item</button>
        </th>
        <th class="px-3 py-2 text-left">
          <button (click)="sort.emit('card')" class="font-bold hover:text-slate-900" type="button">Card</button>
        </th>
        <th class="px-3 py-2 text-left">
          <button (click)="sort.emit('dueDate')" class="font-bold hover:text-slate-900" type="button">Due Date</button>
        </th>
        <th class="px-3 py-2 text-left">
          <button (click)="sort.emit('amount')" class="font-bold hover:text-slate-900" type="button">Amount</button>
        </th>
        <th class="px-3 py-2 text-left">
          <button (click)="sort.emit('isPaid')" class="font-bold hover:text-slate-900" type="button">Status</button>
        </th>
        <th class="px-3 py-2 text-right">Action</th>
      </tr>
      </thead>
      <tbody class="divide-y divide-slate-100">
      <tr *ngFor="let bill of bills; trackBy: trackBill" class="text-slate-700">
        <td class="px-3 py-2 font-medium text-slate-800">{{ bill.name }}</td>
        <td class="px-3 py-2 text-slate-600">{{ cardLabel(bill.cardId) }}</td>
        <td class="px-3 py-2 text-slate-600">{{ formatDate(bill.dueDate) }}</td>
        <td class="px-3 py-2 font-semibold text-slate-800">â‚±{{ utils.formatCurrency(bill.amount) }}</td>
        <td class="px-3 py-2">
                <span
                  [class]="bill.isPaid ? 'inline-block px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700' : 'inline-block px-2 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700'">
                  {{ bill.isPaid ? 'Paid' : 'Pending' }}
                </span>
        </td>
        <td class="px-3 py-2 text-right">
          <div class="flex justify-end gap-2">
            <button (click)="editBill.emit(bill)" class="p-1.5 hover:bg-blue-100 rounded text-blue-600 transition"
                    title="Edit" type="button">
              <lucide-icon [img]="Pencil" class="w-4 h-4"></lucide-icon>
            </button>
            <button (click)="deleteBill.emit(bill.id)" class="p-1.5 hover:bg-red-100 rounded text-red-600 transition"
                    title="Delete" type="button">
              <lucide-icon [img]="Trash2" class="w-4 h-4"></lucide-icon>
            </button>
          </div>
        </td>
      </tr>
      <tr *ngIf="bills.length === 0">
        <td class="px-3 py-4 text-center text-slate-400" colspan="6">No one-time bills found. Add one to get started.
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
