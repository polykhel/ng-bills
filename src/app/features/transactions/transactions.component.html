<div class="max-w-7xl mx-auto px-4 py-6">
  @if (!activeProfile()) {
    <app-empty-state
      [icon]="FileText"
      title="No Profile Selected"
      message="Select a profile to view your transactions"
    />
  } @else {
    <!-- Header with Add Button -->
    <div class="flex items-center justify-between mb-6">
      <div>
        <h1 class="text-2xl font-bold text-slate-900">Transactions</h1>
        <p class="text-slate-600 mt-1">Track your income and expenses</p>
      </div>
      <app-quick-action-button
        [icon]="Plus"
        label="Add Transaction"
        variant="primary"
        (clicked)="onAddTransaction()"
      />
    </div>

    <!-- Summary Metrics -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
      <app-metric-card
        [icon]="TrendingUp"
        label="Total Income"
        [value]="'₱' + summary.totalIncome.toLocaleString()"
        variant="success"
      />

      <app-metric-card
        [icon]="TrendingDown"
        label="Total Expenses"
        [value]="'₱' + summary.totalExpenses.toLocaleString()"
        variant="danger"
      />

      <app-metric-card
        [icon]="Wallet"
        label="Net Change"
        [value]="'₱' + summary.netChange.toLocaleString()"
        [variant]="summary.netChange >= 0 ? 'success' : 'danger'"
      />

      <app-metric-card
        [icon]="FileText"
        label="Transactions"
        [value]="summary.transactionCount.toString()"
        variant="info"
      />
    </div>

    <!-- Filters Bar (Stubbed) -->
    <div class="bg-white rounded-lg border border-slate-200 shadow-sm p-4 mb-6">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <span class="text-sm font-medium text-slate-700">Filters:</span>
          <button
            type="button"
            class="px-3 py-1.5 text-sm border border-slate-300 rounded-md hover:bg-slate-50 transition-colors"
          >
            All Types
          </button>
          <button
            type="button"
            class="px-3 py-1.5 text-sm border border-slate-300 rounded-md hover:bg-slate-50 transition-colors"
          >
            All Categories
          </button>
          <button
            type="button"
            class="px-3 py-1.5 text-sm border border-slate-300 rounded-md hover:bg-slate-50 transition-colors"
          >
            All Payment Methods
          </button>
        </div>
        <button
          type="button"
          (click)="onFilter()"
          class="flex items-center gap-2 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-md transition-colors"
        >
          <lucide-angular [img]="Filter" [size]="16" />
          <span>More Filters</span>
        </button>
      </div>
    </div>

    <!-- Transactions List -->
    <div class="bg-white rounded-lg border border-slate-200 shadow-sm">
      <div class="p-6">
        <app-section-header title="All Transactions" [badge]="'0'" />

        <app-empty-state
          [icon]="FileText"
          title="No transactions yet"
          message="Start tracking your income and expenses to see them here. Transactions will be linked to your credit cards, cash, or bank transfers."
          actionLabel="Add Your First Transaction"
          (action)="onAddTransaction()"
        />

        <!-- Transaction items will be rendered here in Phase 1 -->
      </div>
    </div>

    <!-- Help Text -->
    <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
      <div class="flex items-start gap-3">
        <lucide-angular [img]="FileText" [size]="20" class="text-blue-600 mt-0.5" />
        <div>
          <h4 class="font-semibold text-blue-900 mb-1">About Transactions</h4>
          <p class="text-sm text-blue-800">
            Transactions are the foundation of your financial tracking. Every purchase, bill payment, and
            income source should be recorded here. In Phase 1, you'll be able to categorize, filter, and
            link transactions to your credit cards for automatic statement tracking.
          </p>
        </div>
      </div>
    </div>
  }
</div>
